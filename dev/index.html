<!DOCTYPE html>
<html>
  <head lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/lib/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <title>American Professional Stadiums Map</title>
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      .map-canvas { height: 100%; }
      #controls { display: none; }
    </style>
  </head>
  <body>
    <div class="map-canvas" data-bind="googlemap: { stadiums: $root.stadiums }, infowindow: { stadium: selectedStadium }"></div>
    <div id ="controls">
      <div id="stadium-list" class="stad-list-control">
        <input type="search" placeholder="Search stadiums..." id="stadium-search" data-bind="textInput: searchtext"/>
        <ul class="stad-list-filters" data-bind="foreach: filters">
          <li data-bind="text: league, css: {'stad-filter-on': display, 'stad-filter-off': !display }, click: $parent.toggleFilter"></li>
        </ul>
        <div class="stad-list">
          <p class="stad-list-empty" data-bind="visible: emptysearch">No matching stadiums found.</p>
          <ul data-bind="foreach: stadiums, lastitem: { stadiums: stadiums, class: 'stad-list-last' }" class="stad-list-ul">
            <li data-bind="visible: visible, click: $parent.showMarker">
              <p data-bind="text: name" class="stad-list-name"></p>
              <div data-bind="foreach: teams">
                <p class="stad-list-data"><span data-bind="text: name"></span> (<span data-bind="text: league"></span>)</p>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div id="selected-stadium-info" data-bind="with: selectedStadium">
        <h1 data-bind="text: name"></h1>
        <div data-bind="foreach: teams">
          <p class="info-teams"><span data-bind="text: name"></span> (<span data-bind="text: league"></span>)</p>
        </div>
        <div data-bind="visible: !foursquareid()">
          Getting data.
        </div>
        <div data-bind="visible: foursquareid">
          <div data-bind="foreach: address">
            <p class="address" data-bind="text: $data"></p>
          </div>
          <div data-bind="foreach: photos">
            <p><img data-bind="attr: {src: $data}" /></p>
          </div>
        </div>
      </div>
    </div>
    <script src="js/lib/jquery-2.1.3.min.js"></script>
    <script src="js/lib/knockout-3.2.0.js"></script>
    <script src="js/lib/wiky.js"></script>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyANhKvLu00D4HzEP84t0sGNvSwWmuthcKg">
    </script>
    <script src="js/app.js"></script>
  </body>
</html>
